{"ast":null,"code":"var _jsxFileName = \"/Users/divya/Documents/practice/react-alten-app/src/app/layout/app-layout.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { useHistory } from 'react-router-dom';\nimport { createStyles, makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { ImageConfig } from '../../constants';\nimport { Link } from 'react-router-dom';\nimport './app-layout.scss';\nimport { useDispatch } from 'react-redux';\nimport { logoutUser } from '../../store/actions/auth.action';\nimport { setTempRole, setTempId } from '../../store/actions/others.action';\nimport MenuItemsComponent from '../../components/MenuItemsComponent';\nimport ArrowBackOutlined from '@material-ui/icons/ArrowBackOutlined';\nimport Communications from '../../helpers/communications-service';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst renderer = _ref => {\n  let {\n    hours,\n    minutes,\n    seconds,\n    completed\n  } = _ref;\n\n  if (completed) {\n    // Render a complete state\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"meeting has started\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this);\n  } else {\n    // Render a countdown\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"timings\",\n        children: \"Meeting starts in \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"timings\",\n        children: [minutes, \" mins:\\xA0\", seconds, \" \\xA0sec\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n};\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles(theme => createStyles({\n  root: {\n    display: 'flex'\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerContainer: {\n    overflow: 'auto'\n  },\n  content: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  button: {\n    display: 'block',\n    marginTop: theme.spacing(2)\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 80\n  },\n  underline: {\n    \"&&&:before\": {\n      borderBottom: \"none\"\n    },\n    \"&&:after\": {\n      borderBottom: \"none\"\n    }\n  }\n}));\n\nconst AppLayout = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const {\n    other\n  } = useSelector(state => state);\n  const [pageTitle, setPageTitle] = useState(null);\n  const [pageBackButtonLink, setPageBackButtonLink] = useState(null);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(matches);\n  const {\n    t\n  } = useTranslation();\n  let d = new Date();\n  const history = useHistory();\n\n  const toggleDrawer = () => {\n    setIsDrawerOpen(s => !s);\n  };\n\n  useEffect(() => {\n    setIsDrawerOpen(matches);\n  }, [matches]);\n  useEffect(() => {\n    const pageTitleSubscription = Communications.pageTitleSubject.subscribe(title => {\n      setPageTitle(title);\n    });\n    const pageBackButtonSubscription = Communications.pageBackButtonSubject.subscribe(buttonLink => {\n      setPageBackButtonLink(buttonLink || null);\n    });\n    return () => {\n      pageTitleSubscription.unsubscribe();\n      pageBackButtonSubscription.unsubscribe();\n    };\n  }, []);\n  const classes = useStyles();\n\n  const logout = () => {\n    dispatch(setTempRole(undefined));\n    dispatch(setTempId(''));\n    dispatch(logoutUser());\n    history.push(\"/login\"); // return <Redirect to={'/login'} />;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root + ' app-layout',\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"fixed\",\n      color: 'inherit',\n      variant: 'elevation',\n      elevation: 1,\n      className: classes.appBar,\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brand\",\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: toggleDrawer,\n            edge: \"start\",\n            className: 'menuButton',\n            color: \"inherit\",\n            \"aria-label\": \"menu\",\n            children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: '/',\n            children: (user === null || user === void 0 ? void 0 : user.role) !== \"admin\" && other !== null && other !== void 0 && other.image_url ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: 'no-repeat-background hospital-logo',\n              style: {\n                objectFit: \"fill\",\n                backgroundImage: 'url(' + (other === null || other === void 0 ? void 0 : other.image_url) + ')'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 78\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: ImageConfig.logo,\n              alt: ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 222\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"back-title-holder\",\n          children: [pageBackButtonLink && /*#__PURE__*/_jsxDEV(IconButton, {\n            color: 'primary',\n            component: Link,\n            to: pageBackButtonLink,\n            id: \"link_back_arrow\",\n            children: /*#__PURE__*/_jsxDEV(ArrowBackOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 29\n          }, this), pageTitle && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: pageBackButtonLink ? \"page-title-text\" : \"page-title-text mrg-left-30\",\n            children: [\"\\xA0\", pageTitle]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 39\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      className: classes.drawer + (isDrawerOpen ? ' drawerOpened ' : ' drawerClosed '),\n      variant: 'permanent',\n      classes: {\n        paper: classes.drawerPaper\n      },\n      onClose: console.log,\n      open: isDrawerOpen,\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drawerContainer\",\n        children: [/*#__PURE__*/_jsxDEV(MenuItemsComponent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"powered-by-holder\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logout-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: logout,\n              id: \"btn_logout\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: ImageConfig.Logout_logo,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this), \"\\xA0\", t('Logout')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: classes.content,\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-container\",\n        children: props.children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AppLayout, \"+afxekE0kQvAIvxkKbLBRhmEhrg=\", false, function () {\n  return [useDispatch, useTheme, useMediaQuery, useSelector, useSelector, useTranslation, useHistory, useStyles];\n});\n\n_c = AppLayout;\nexport default AppLayout;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppLayout\");","map":{"version":3,"sources":["/Users/divya/Documents/practice/react-alten-app/src/app/layout/app-layout.tsx"],"names":["React","useEffect","useState","Button","IconButton","useMediaQuery","MenuIcon","useHistory","createStyles","makeStyles","useTheme","Drawer","AppBar","CssBaseline","Toolbar","ImageConfig","Link","useDispatch","logoutUser","setTempRole","setTempId","MenuItemsComponent","ArrowBackOutlined","Communications","useSelector","useTranslation","renderer","hours","minutes","seconds","completed","drawerWidth","useStyles","theme","root","display","appBar","zIndex","drawer","width","flexShrink","drawerPaper","drawerContainer","overflow","content","flexGrow","menuButton","marginRight","spacing","button","marginTop","formControl","margin","minWidth","underline","borderBottom","AppLayout","props","dispatch","matches","breakpoints","up","user","state","auth","other","pageTitle","setPageTitle","pageBackButtonLink","setPageBackButtonLink","isDrawerOpen","setIsDrawerOpen","t","d","Date","history","toggleDrawer","s","pageTitleSubscription","pageTitleSubject","subscribe","title","pageBackButtonSubscription","pageBackButtonSubject","buttonLink","unsubscribe","classes","logout","undefined","push","role","image_url","objectFit","backgroundImage","logo","paper","console","log","Logout_logo","children"],"mappings":"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","sourcesContent":["import React, { PropsWithChildren, useCallback, useEffect, useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { createStyles, makeStyles, Theme, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { ImageConfig } from '../../constants';\r\nimport { Link } from 'react-router-dom';\r\nimport './app-layout.scss';\r\nimport { ENV } from '../../constants';\r\nimport { useDispatch } from 'react-redux';\r\nimport { logoutUser } from '../../store/actions/auth.action';\r\nimport { setTempRole, setTempId } from '../../store/actions/others.action';\r\nimport MenuItemsComponent from '../../components/MenuItemsComponent';\r\nimport ArrowBackOutlined from '@material-ui/icons/ArrowBackOutlined';\r\nimport Communications from '../../helpers/communications-service';\r\nimport CommonService from '../../helpers/common-service';\r\nimport { useSelector } from 'react-redux';\r\nimport { StateParams } from '../../store/reducers';\r\nimport { loginUser } from '../../store/actions/auth.action';\r\nimport { useTranslation } from 'react-i18next';\r\nimport moment from 'moment';\r\n\r\nexport interface AppLayoutProps { }\r\nconst renderer = ({ hours, minutes, seconds, completed }: any) => {\r\n    if (completed) {\r\n        // Render a complete state\r\n        return (\r\n            <div>\r\n                <p>meeting has started</p>\r\n            </div>\r\n        );\r\n    } else {\r\n        // Render a countdown\r\n        return (\r\n            <>\r\n                <p className=\"timings\">Meeting starts in </p>\r\n                <p className=\"timings\">{minutes} mins:&nbsp;{seconds} &nbsp;sec</p>\r\n            </>\r\n\r\n        );\r\n    }\r\n};\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            display: 'flex'\r\n        },\r\n        appBar: {\r\n            zIndex: theme.zIndex.drawer + 1\r\n        },\r\n        drawer: {\r\n            width: drawerWidth,\r\n            flexShrink: 0\r\n        },\r\n        drawerPaper: {\r\n            width: drawerWidth\r\n        },\r\n        drawerContainer: {\r\n            overflow: 'auto'\r\n        },\r\n        content: {\r\n            flexGrow: 1\r\n        },\r\n        menuButton: {\r\n            marginRight: theme.spacing(2)\r\n        },\r\n        button: {\r\n            display: 'block',\r\n            marginTop: theme.spacing(2),\r\n        },\r\n        formControl: {\r\n            margin: theme.spacing(1),\r\n            minWidth: 80,\r\n        },\r\n        underline: {\r\n            \"&&&:before\": {\r\n                borderBottom: \"none\"\r\n            },\r\n            \"&&:after\": {\r\n                borderBottom: \"none\"\r\n            }\r\n        }\r\n    })\r\n);\r\n\r\nconst AppLayout = (props: PropsWithChildren<AppLayoutProps>) => {\r\n    const dispatch = useDispatch();\r\n    const theme = useTheme();\r\n    const matches = useMediaQuery(theme.breakpoints.up('sm'));\r\n    const { user } = useSelector((state: StateParams) => state.auth);\r\n    const { other } = useSelector((state: StateParams) => state);\r\n    const [pageTitle, setPageTitle] = useState<string | null>(null);\r\n    const [pageBackButtonLink, setPageBackButtonLink] = useState<string | null>(null);\r\n    const [isDrawerOpen, setIsDrawerOpen] = useState(matches);\r\n    const { t } = useTranslation()\r\n    let d = new Date();\r\n    const history = useHistory();\r\n    const toggleDrawer = () => {\r\n        setIsDrawerOpen((s) => !s);\r\n    };\r\n    useEffect(\r\n        () => {\r\n            setIsDrawerOpen(matches);\r\n        },\r\n        [matches]\r\n    );\r\n\r\n    useEffect(() => {\r\n        const pageTitleSubscription = Communications.pageTitleSubject.subscribe((title) => {\r\n            setPageTitle(title);\r\n        });\r\n        const pageBackButtonSubscription = Communications.pageBackButtonSubject.subscribe((buttonLink) => {\r\n            setPageBackButtonLink(buttonLink || null);\r\n        });\r\n\r\n\r\n        return () => {\r\n            pageTitleSubscription.unsubscribe();\r\n            pageBackButtonSubscription.unsubscribe();\r\n        };\r\n    }, []);\r\n    const classes = useStyles();\r\n    const logout = () => {\r\n        dispatch(setTempRole(undefined));\r\n        dispatch(setTempId(''));\r\n        dispatch(logoutUser());\r\n        history.push(\"/login\")\r\n        // return <Redirect to={'/login'} />;\r\n    };\r\n    return (\r\n        <div className={classes.root + ' app-layout'}>\r\n            <CssBaseline />\r\n            <AppBar position=\"fixed\" color={'inherit'} variant={'elevation'} elevation={1} className={classes.appBar}>\r\n                <Toolbar>\r\n                    <div className=\"brand\">\r\n                        <IconButton\r\n                            onClick={toggleDrawer}\r\n                            edge=\"start\"\r\n                            className={'menuButton'}\r\n                            color=\"inherit\"\r\n                            aria-label=\"menu\"\r\n                        >\r\n                            <MenuIcon />\r\n                        </IconButton>\r\n                        <Link to={'/'}>\r\n                            {\r\n                                user?.role !== \"admin\" && other?.image_url ? <div className={'no-repeat-background hospital-logo'} style={{ objectFit: \"fill\", backgroundImage: 'url(' + other?.image_url + ')' }} ></div> : <img src={ImageConfig.logo} alt={''} />\r\n                            }\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"back-title-holder\">\r\n                        {pageBackButtonLink && (\r\n                            <IconButton color={'primary'} component={Link} to={pageBackButtonLink} id=\"link_back_arrow\">\r\n                                <ArrowBackOutlined />\r\n                            </IconButton>\r\n                        )}\r\n                        {pageTitle && <div className={pageBackButtonLink ? \"page-title-text\" : \"page-title-text mrg-left-30\"}>&nbsp;{pageTitle}</div>}\r\n                    </div>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Drawer\r\n                className={classes.drawer + (isDrawerOpen ? ' drawerOpened ' : ' drawerClosed ')}\r\n                variant={'permanent'}\r\n                classes={{\r\n                    paper: classes.drawerPaper\r\n                }}\r\n                onClose={console.log}\r\n                open={isDrawerOpen}\r\n            >\r\n                <Toolbar />\r\n                <div className={\"drawerContainer\"}>\r\n                    <MenuItemsComponent />\r\n                    <div className=\"powered-by-holder\">\r\n                        <div className=\"logout-wrapper\">\r\n                            <Button variant=\"contained\" onClick={logout} id=\"btn_logout\">\r\n                                <img src={ImageConfig.Logout_logo} alt=\"\" />\r\n                                &nbsp;{t('Logout')}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Drawer>\r\n            <main className={classes.content}>\r\n                <Toolbar />\r\n                <div className=\"page-container\">{props.children}</div>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AppLayout;\r\n"]},"metadata":{},"sourceType":"module"}